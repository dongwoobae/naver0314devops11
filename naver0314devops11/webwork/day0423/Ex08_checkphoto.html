<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <!--부트스트랩-->
    <!-- Latest compiled and minified CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!--글꼴-->
    <link
      href="https://fonts.googleapis.com/css2?family=Dokdo&family=Dongle&family=Gaegu&family=Gowun+Batang&family=Reem+Kufi+Fun:wght@400..700&family=Song+Myung&family=Dancing+Script&family=Tilt+Neon&display=swap"
      rel="stylesheet"
    />
    <style>
      body * {
        font-family: "Gowun Batang";
      }
      div.photos {
        margin-top: 30px;
      }
      div.photos figure.photo {
        float: left;
        margin: 10px;
        width: 150px;
      }
      div.photos figure.photo img {
        width: 150px;
      }
      div.photos figure.photo figcaption {
        text-align: center;
      }
    </style>
    <script src="https://code.jquery.com/jquery-3.7.0.js"></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.0/font/bootstrap-icons.css"
    />
    <script>
      $(function () {
        init();
        //전체선택 체크박스 이벤트
        $("#allcheck").click(function () {
          //현재 체크값 얻어오기
          let ck = $(this).prop("checked");
          //모든 삭제 체크박스에 적용
          $(".delck").prop("checked", ck);
        });
        //선택한 사진 삭제하기 이벤트
        $("#btndel").click(function () {
          //   $(".delck:checked").parent().parent().parent().remove(); parent를 3번이나 써야함
          //parents 함수        //모든 parent들 중 선택 가능
          $(".delck:checked").parents("figure.photo").remove();
        });
        //다시 원래대로
        $("#btninit").click(function () {
          init();
          $("#allcheck").prop("checked", false);
        });
      });

      function init() {
        let s = "";
        for (let i = 1; i <= 6; i++) {
          s += `
                <figure class="photo">
                    <img src="../image/jquery_image/m0${i}.jpg">
                    <figcaption>
                        <label>
                            <input type="checkbox" class="delck">삭제
                        </label>
                    </figcaption>
                </figure>
                `;
        }

        $("div.photos").html(s);
      }
    </script>
  </head>
  <body>
    <div style="margin: 10px">
      <label> <input type="checkbox" id="allcheck" />전체선택 </label>
      <button
        type="button"
        class="btn btn-outline-danger"
        id="btndel"
        style="margin-left: 100px"
      >
        선택한 사진 삭제하기
      </button>
      <button type="button" id="btninit" class="btn btn-outline-danger">
        다시 원래대로 배치
      </button>
      <div class="photos"></div>
    </div>
  </body>
</html>
